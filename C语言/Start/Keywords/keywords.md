# C语言关键字详解

C语言共有32个关键字，这些关键字是语言的保留字，不能用作变量名、函数名等标识符。

## 数据类型关键字

### 基本数据类型

#### ✅ `int`
- **含义**: 整型数据类型
- **用途**: 声明整数变量
- **使用场景**: 存储整数值，如计数器、索引等
```c
int age = 25;
int count = 0;
```

#### ✅ `char`
- **含义**: 字符型数据类型
- **用途**: 声明字符变量或字符数组
- **使用场景**: 存储单个字符或字符串
```c
char grade = 'A';
char name[20] = "张三";
```

#### ✅ `float`
- **含义**: 单精度浮点型
- **用途**: 声明浮点数变量
- **使用场景**: 存储小数，精度要求不高的场合
```c
float price = 19.99f;
float temperature = 36.5f;
```

#### ✅ `double`
- **含义**: 双精度浮点型
- **用途**: 声明高精度浮点数变量
- **使用场景**: 需要高精度计算的场合
```c
double pi = 3.14159265359;
double result = 0.0;
```

#### ✅ `void`
- **含义**: 空类型
- **用途**: 表示无返回值或无参数
- **使用场景**: 函数返回类型、指针类型
```c
void printHello() {
    printf("Hello World!\n");
}
void* ptr;
```

### 类型修饰符

#### `short`
- **含义**: 短整型修饰符
- **用途**: 修饰int类型，占用更少内存
- **使用场景**: 内存受限或数值范围较小的情况
```c
short int num = 100;
short age = 18;
```

#### `long`
- **含义**: 长整型修饰符
- **用途**: 修饰int或double类型，扩大数值范围
- **使用场景**: 需要存储大数值的情况
```c
long int population = 1400000000L;
long double precision = 3.141592653589793238L;
```

#### `signed`
- **含义**: 有符号修饰符
- **用途**: 明确指定变量可以存储正负数
- **使用场景**: 需要明确表示有符号类型时
```c
signed int temperature = -10;
signed char offset = -5;
```

#### `unsigned`
- **含义**: 无符号修饰符
- **用途**: 指定变量只能存储非负数
- **使用场景**: 只需要正数的场合，可以扩大正数范围
```c
unsigned int count = 100;
unsigned char byte = 255;
```

## 存储类关键字

#### `auto`
- **含义**: 自动存储类
- **用途**: 声明局部变量（默认）
- **使用场景**: 函数内部的局部变量
```c
void function() {
    auto int x = 10; // 等同于 int x = 10;
}
```

#### `register`
- **含义**: 寄存器存储类
- **用途**: 建议编译器将变量存储在寄存器中
- **使用场景**: 频繁访问的变量，提高访问速度
```c
register int counter;
for(counter = 0; counter < 1000; counter++) {
    // 频繁使用counter
}
```

#### ✅ `static`
- **含义**: 静态存储类
- **用途**: 声明静态变量或函数
- **使用场景**: 保持变量值、限制函数作用域

**static修饰局部变量的时候，局部变量出了作用域，不销毁的。**
**本质上，static修饰局部变量的时候，改变了变量的存储位置的。**
**影响了变量的生命周期，生命周期变长，和程序的生命周期一样。**

##### 1. static修饰局部变量
- **作用**: 延长局部变量的生命周期，使其在函数调用结束后仍保持值
- **存储位置**: 从栈区移动到静态区
- **初始化**: 只在第一次调用时初始化
```c
#include <stdio.h>

void function() {
    static int count = 0; // 静态局部变量，只初始化一次
    count++;
    printf("count = %d\n", count);
}

int main() {
    function(); // 输出: count = 1
    function(); // 输出: count = 2
    function(); // 输出: count = 3
    return 0;
}
```

##### 2. static修饰全局变量
- **作用**: 限制全局变量的作用域，使其只能在当前源文件中使用
- **链接属性**: 从外部链接属性变为内部链接属性
- **文件间访问**: 其他源文件无法通过extern访问该变量
```c
// file1.c
static int g_val = 2022; // 静态全局变量

// static修饰全局变量的时候
// 这个全局变量的外部链接属性就变成了内部链接属性。
// 其他源文件(.c)就不能再使用到这个
// 全局变量了。

// file2.c
extern int g_val; // 错误！无法访问file1.c中的静态全局变量

int main() {
    printf("%d\n", g_val); // 编译错误
    return 0;
}
```

##### 3. static修饰函数
- **作用**: 限制函数的作用域，使其只能在当前源文件中调用
- **链接属性**: 从外部链接属性变为内部链接属性
- **文件间调用**: 其他源文件无法调用该函数
```c
// add.c
static int Add(int x, int y) // 静态函数
{
    return x + y;
}

// 一个函数本来是具有外部链接属性的
// 但是被static修饰的时候，外部链接属性就
// 变成了内部链接属性，其他源文件(.c)
// 就无法使用了。

// test.c
extern int Add(int x, int y); // 声明外部函数

int main() {
    int a = 10;
    int b = 20;
    int z = Add(a, b); // 链接错误！无法找到Add函数
    printf("%d\n", z);
    return 0;
}
```

#### ✅ `extern`
- **含义**: 外部存储类
- **用途**: 声明外部变量或函数
- **使用场景**: 多文件程序中引用其他文件的变量
```c
extern int global_var; // 声明外部变量
extern void other_function(); // 声明外部函数
```

## 控制流关键字

### 条件控制

#### ✅ `if`
- **含义**: 条件判断
- **用途**: 根据条件执行不同代码
- **使用场景**: 分支控制
```c
if (score >= 60) {
    printf("及格\n");
}
```

#### ✅ `else`
- **含义**: 否则
- **用途**: 与if配合使用
- **使用场景**: 条件不满足时的处理
```c
if (age >= 18) {
    printf("成年人\n");
} else {
    printf("未成年人\n");
}
```

#### ✅ `switch`
- **含义**: 多分支选择
- **用途**: 根据变量值选择执行分支
- **使用场景**: 多个固定值的判断
```c
switch (grade) {
    case 'A': printf("优秀\n"); break;
    case 'B': printf("良好\n"); break;
    default: printf("其他\n");
}
```

#### ✅ `case`
- **含义**: 分支标签
- **用途**: 在switch中定义各个分支
- **使用场景**: 配合switch使用

#### `default`
- **含义**: 默认分支
- **用途**: switch中的默认处理
- **使用场景**: 处理未匹配的情况

### 循环控制

#### ✅ `for`
- **含义**: for循环
- **用途**: 已知循环次数的循环
- **使用场景**: 计数循环、数组遍历
```c
for (int i = 0; i < 10; i++) {
    printf("%d ", i);
}
```

#### ✅ `while`
- **含义**: while循环
- **用途**: 条件循环
- **使用场景**: 循环次数不确定的情况
```c
while (x > 0) {
    x--;
    printf("%d ", x);
}
```

#### `do`
- **含义**: do-while循环的开始
- **用途**: 至少执行一次的循环
- **使用场景**: 需要先执行后判断的循环
```c
do {
    printf("请输入密码: ");
    scanf("%s", password);
} while (strcmp(password, "123456") != 0);
```

### 跳转控制

#### ✅ `break`
- **含义**: 跳出循环或switch
- **用途**: 提前结束循环或switch分支
- **使用场景**: 满足某条件时退出
```c
for (int i = 0; i < 100; i++) {
    if (i == 50) break; // 跳出循环
}
```

#### ✅ `continue`
- **含义**: 跳过本次循环
- **用途**: 跳过当前迭代，继续下一次
- **使用场景**: 跳过特定条件的处理
```c
for (int i = 0; i < 10; i++) {
    if (i % 2 == 0) continue; // 跳过偶数
    printf("%d ", i);
}
```

#### `goto`
- **含义**: 无条件跳转
- **用途**: 跳转到指定标签
- **使用场景**: 错误处理、多层循环跳出（不推荐使用）
```c
if (error) {
    goto cleanup;
}
// 正常代码
cleanup:
    // 清理代码
```

#### ✅ `return`
- **含义**: 函数返回
- **用途**: 从函数返回值
- **使用场景**: 函数结束并返回结果
```c
int add(int a, int b) {
    return a + b;
}
```

## 其他关键字

#### ✅ `struct`
- **含义**: 结构体
- **用途**: 定义复合数据类型
- **使用场景**: 组织相关数据
```c
struct Student {
    char name[20];
    int age;
    float score;
};
```

#### `union`
- **含义**: 联合体
- **用途**: 定义共享内存的数据类型
- **使用场景**: 节省内存空间
```c
union Data {
    int i;
    float f;
    char c;
};
```

#### `enum`
- **含义**: 枚举
- **用途**: 定义命名常量集合
- **使用场景**: 表示有限的选项集合
```c
enum Color {
    RED,
    GREEN,
    BLUE
};
```

#### `typedef`
- **含义**: 类型定义
- **用途**: 为现有类型创建别名
- **使用场景**: 简化复杂类型名、提高代码可读性
```c
typedef unsigned int uint;
typedef struct Student Student_t;
```

#### ✅ `sizeof`
- **含义**: 计算大小
- **用途**: 获取数据类型或变量的字节数
- **使用场景**: 内存分配、数组大小计算
```c
int size = sizeof(int);
int arr_len = sizeof(array) / sizeof(array[0]);
```

#### ✅ `const`
- **含义**: 常量修饰符
- **用途**: 声明不可修改的变量
- **使用场景**: 定义常量、保护数据
```c
const int MAX_SIZE = 100;
const char* message = "Hello";
```

#### `volatile`
- **含义**: 易变修饰符
- **用途**: 告诉编译器变量可能被外部修改
- **使用场景**: 硬件寄存器、中断处理、多线程
```c
volatile int flag = 0; // 可能被中断处理程序修改
```

## 预处理指令

#### ✅ `#define`
- **含义**: 宏定义预处理指令
- **用途**: 定义宏常量或宏函数
- **使用场景**: 定义常量、创建函数式宏、条件编译

##### 1. 宏常量定义
```c
#define NUM 10
#define PI 3.14159
```

##### 2. 宏函数定义
根据图片示例，展示带参数的宏定义：
```c
#define ADD(x,y) ((x)+(y))  // 宏名：ADD，宏的参数：x,y（参数是无类型），宏体：((x)+(y))

int Add(int x, int y)
{
    return x + y;
}

int main()
{
    int a = 10;
    int b = 20;
    int c = ADD(a, b);  // 宏调用，预处理时会被替换为：int c = ((a)+(b));
    
    printf("%d\n", c);  // 输出：30
    return 0;
}
```

##### 3. 宏定义的特点
- **预处理阶段替换**: 宏在预处理阶段进行文本替换，不是函数调用
- **无类型检查**: 宏参数没有类型限制
- **括号的重要性**: 宏体和参数都应该用括号包围，避免运算优先级问题
- **效率优势**: 避免函数调用开销，直接进行代码替换

##### 4. 宏与函数的区别
```c
// 宏定义（预处理时替换）
#define ADD_MACRO(x,y) ((x)+(y))

// 函数定义（运行时调用）
int Add_Function(int x, int y) {
    return x + y;
}

int main() {
    int result1 = ADD_MACRO(10, 20);     // 替换为：int result1 = ((10)+(20));
    int result2 = Add_Function(10, 20);  // 函数调用
    return 0;
}
```

## 总结

这32个关键字构成了C语言的基础语法框架：

1. **数据类型关键字**：定义变量的类型和属性
2. **存储类关键字**：控制变量的存储方式和作用域
3. **控制流关键字**：实现程序的逻辑控制
4. **其他关键字**：提供高级功能和类型系统

掌握这些关键字的用法是学好C语言的基础，在实际编程中要根据具体需求选择合适的关键字来实现功能。